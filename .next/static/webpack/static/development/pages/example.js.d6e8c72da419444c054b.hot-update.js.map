{"version":3,"file":"static/webpack/static/development/pages/example.js.d6e8c72da419444c054b.hot-update.js","sources":["webpack:///./pages/example.js"],"sourcesContent":["\nimport React from 'react';\nimport Router from 'next/router';\nimport Link from 'next/link';\nimport axios from 'axios';\nimport fetch from 'isomorphic-unfetch';\nimport Modal from '../components/modal';\nimport {\n  CloudinaryContext,\n  Transformation,\n  Image\n} from 'cloudinary-react';\nimport Layout from '../components/layout'\n\n\nexport default class extends React.Component {\n\n  static async getInitialProps() {\n    const res = await fetch('https://res.cloudinary.com/dj6ppswvb/image/list/b.json')\n    const data = await res.json();\n    return {\n      images: data.resources\n    }\n  }\n\n  constructor(props) {\n    super(props)\n    this.onKeyDown = this.onKeyDown.bind(this)\n  }\n\n\n  // handling escape close\n  componentDidMount() {\n    document.addEventListener('keydown', this.onKeyDown)\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.onKeyDown)\n  }\n\n  onKeyDown(e) {\n    if (!this.props.url.query.photoId) return\n    if (e.keyCode === 27) {\n      // this.props.url.back()\n        window.history.back()\n    }\n  }\n\n  dismissModal() {\n    Router.push('/example');\n  }\n\n  showPhoto(e, id) {\n    e.preventDefault();\n    // Router.push(`/?photoId=https://res.cloudinary.com/dj6ppswvb/${id}`, `/photo?id=https://res.cloudinary.com/dj6ppswvb/${id}`)\n    Router.push(`/?photoId=${id}`, `/photo?id=${id}`)\n  }\n\n  render() {\n    const { url, images } = this.props\n    console.log(asPath())\n    return (\n      <Layout title='Example page'>\n        <div className='grid'>\n          {\n            url.query.id &&\n            <Modal\n              id={url.query.id}\n              onDismiss={() => this.dismissModal()}\n            />\n          }\n\n          <CloudinaryContext cloudName=\"dj6ppswvb\">\n            {\n              images.map(data => {\n                return (\n                  <div className=\"responsive\" key={data.public_id}>\n\n                    <a\n                      href={(`/photo?id=https://res.cloudinary.com/dj6ppswvb/${data.public_id}`)}\n                      onClick={(e) => this.showPhoto(e, data.public_id)}\n                    >\n\n                      <Image publicId={data.public_id}>\n                        <Transformation\n\n                          width='300'\n                          crop=\"scale\"\n                        //  height=\"200\"\n                        //  dpr=\"auto\"\n                        //    responsive_placeholder=\"blank\"\n                        />\n                      </Image>\n                    </a>\n                  </div>\n                )\n              })\n            }\n          </CloudinaryContext>\n\t\t\t\t\t<style jsx>{`\n          .grid {\n\n\n          }\n\t\t\t\t\t.responsive {\n\t\t\t\t\t\tcursor: pointer;\n\t\t\t\t\t}\n          .list {\n            padding: 50px;\n            text-align: center;\n          }\n          .photo {\n            display: flex;\n\t\t\t\t\t\tmax-width: 1040px;\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\tmargin: auto;\n\t\t\t\t\t\tjustify-content: space-between;\n\t\t\t\t\t\talign-items: center;\n          }\n          .photoLink {\n            color: #333;\n            verticalAlign: middle;\n            cursor: pointer;\n            width: 250px;\n            height: 250px;\n            line-height: 250px;\n            margin: 10px;\n            border: 2px solid transparent;\n          }\n          .photoLink:hover {\n            borderColor: blue;\n          }\n        `}</style>\n        </div>\n      </Layout>\n    )\n  }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;;;;;;;;;;;;;;;;;;AAKA;AACA;;AADA;;AACA;AACA;;AADA;AACA;AACA;AADA;AACA;;;;;;;;;;;;;;;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAGA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAEA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AAjCA;AAAA;AAAA;AAAA;AAyEA;;;;AAzHA;AACA;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}